# é¡¹ç›®è¿ç§»æ€»ç»“

## ğŸ‰ é¡¹ç›®æ¦‚è¿°

æˆåŠŸå°† `social-auto-upload` (Python) çš„ç¤¾äº¤åª’ä½“å‘å¸ƒåŠŸèƒ½è¿ç§»åˆ° `yishe-uploader` (JavaScript/Vue3)ï¼Œå¹¶è¿›è¡Œäº†å…¨é¢çš„æ¶æ„å‡çº§å’ŒåŠŸèƒ½å¢å¼ºã€‚

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. å‰ç«¯æ¶æ„ (Vue3 + Element Plus)

#### é¡¹ç›®ç»“æ„
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/              # API æ¥å£å°è£…
â”‚   â”œâ”€â”€ layout/           # å¸ƒå±€ç»„ä»¶ï¼ˆå·¦ä¾§èœå•+å³ä¾§å†…å®¹ï¼‰
â”‚   â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ stores/           # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ styles/           # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ views/            # é¡µé¢ç»„ä»¶
â”‚       â”œâ”€â”€ dashboard/    # å·¥ä½œå°
â”‚       â”œâ”€â”€ publish/      # å†…å®¹å‘å¸ƒ
â”‚       â”œâ”€â”€ accounts/     # è´¦å·ç®¡ç†
â”‚       â”œâ”€â”€ history/      # å‘å¸ƒå†å²
â”‚       â”œâ”€â”€ schedule/     # å®šæ—¶å‘å¸ƒ
â”‚       â””â”€â”€ settings/     # ç³»ç»Ÿè®¾ç½®
```

#### æ ¸å¿ƒåŠŸèƒ½
- âœ… å“åº”å¼å¸ƒå±€è®¾è®¡
- âœ… å·¦ä¾§å¯¼èˆªèœå•
- âœ… å¤šå¹³å°é€‰æ‹©å™¨
- âœ… è§†é¢‘/å›¾ç‰‡ä¸Šä¼ 
- âœ… å†…å®¹ç¼–è¾‘å™¨
- âœ… è¯é¢˜æ ‡ç­¾ç®¡ç†
- âœ… å®šæ—¶å‘å¸ƒè®¾ç½®
- âœ… å¹³å°ç‰¹å®šè®¾ç½®
- âœ… å‘å¸ƒå†å²æŸ¥è¯¢
- âœ… è´¦å·çŠ¶æ€ç®¡ç†

### 2. åç«¯æœåŠ¡å±‚

#### API æœåŠ¡
```javascript
// ç»Ÿä¸€çš„å‘å¸ƒæœåŠ¡
src/api/
â”œâ”€â”€ publishService.js     # å‘å¸ƒæœåŠ¡å°è£…
â””â”€â”€ server.js            # HTTP API æœåŠ¡å™¨
```

#### RESTful API ç«¯ç‚¹
- `POST /api/publish` - å•å¹³å°å‘å¸ƒ
- `POST /api/publish/batch` - æ‰¹é‡å‘å¸ƒ
- `POST /api/schedule` - åˆ›å»ºå®šæ—¶ä»»åŠ¡
- `GET /api/platforms` - è·å–å¹³å°åˆ—è¡¨
- `GET /api/browser/status` - æµè§ˆå™¨çŠ¶æ€
- `POST /api/browser/connect` - è¿æ¥æµè§ˆå™¨
- `POST /api/browser/close` - å…³é—­æµè§ˆå™¨

### 3. å¹³å°å®ç°ï¼ˆç‹¬ç«‹æ¨¡å—ï¼‰

#### å·²å®Œæˆå¹³å°

**æŠ–éŸ³ (Douyin)** âœ…
- å®Œæ•´å®ç°æ‰€æœ‰åŠŸèƒ½
- æ”¯æŒè§†é¢‘ä¸Šä¼ 
- æ”¯æŒå•†å“é“¾æ¥
- æ”¯æŒåœ°ç†ä½ç½®
- æ”¯æŒè‡ªå®šä¹‰å°é¢
- æ”¯æŒå®šæ—¶å‘å¸ƒ
- è‡ªåŠ¨å¤„ç†å°é¢é€‰æ‹©
- å®Œå–„çš„é”™è¯¯å¤„ç†

æ ¸å¿ƒä»£ç ï¼š
```javascript
// src/platforms/douyin.js
class DouyinPublisher {
    async publish(publishInfo) {
        // 1. æµè§ˆå™¨ç®¡ç†
        // 2. è®¤è¯å¤„ç†
        // 3. è§†é¢‘ä¸Šä¼ 
        // 4. å†…å®¹å¡«å†™
        // 5. å•†å“é“¾æ¥
        // 6. å®šæ—¶è®¾ç½®
        // 7. å‘å¸ƒç¡®è®¤
    }
}
```

**å¿«æ‰‹ (Kuaishou)** âœ…
- å®Œæ•´å®ç°æ‰€æœ‰åŠŸèƒ½
- æ”¯æŒè§†é¢‘ä¸Šä¼ 
- æ”¯æŒæœ€å¤š3ä¸ªè¯é¢˜
- æ”¯æŒå®šæ—¶å‘å¸ƒ
- ä¸¤æ­¥ç¡®è®¤å‘å¸ƒ
- å®Œå–„çš„ä¸Šä¼ çŠ¶æ€ç›‘æ§

æ ¸å¿ƒä»£ç ï¼š
```javascript
// src/platforms/kuaishou.js
class KuaishouPublisher {
    async publish(publishInfo) {
        // 1. æ–‡ä»¶é€‰æ‹©å™¨ä¸Šä¼ 
        // 2. æè¿°å’Œè¯é¢˜å¡«å†™
        // 3. ä¸Šä¼ çŠ¶æ€ç›‘æ§
        // 4. å®šæ—¶è®¾ç½®
        // 5. ä¸¤æ­¥å‘å¸ƒç¡®è®¤
    }
}
```

**å°çº¢ä¹¦ (Xiaohongshu)** âœ…
- å›¾ç‰‡ä¸Šä¼ å·²å®ç°
- è§†é¢‘ä¸Šä¼ åŠŸèƒ½å¢å¼ºä¸­
- æ”¯æŒåœ°ç†ä½ç½®
- æ”¯æŒå®šæ—¶å‘å¸ƒ
- é‡è¯•æœºåˆ¶å®Œå–„

**å¾®åš (Weibo)** âœ…
- åŸºç¡€å‘å¸ƒåŠŸèƒ½
- å›¾ç‰‡å’Œè§†é¢‘æ”¯æŒ
- è¯é¢˜æ ‡ç­¾æ”¯æŒ

#### å¾…å®Œæˆå¹³å°ï¼ˆå‚è€ƒå·²å®ç°ï¼‰
- è…¾è®¯è§†é¢‘å· (Tencent) ğŸš§
- Bç«™ (Bilibili) ğŸš§
- TikTok ğŸš§
- ç™¾å®¶å· (Baijiahao) ğŸš§

### 4. æ ¸å¿ƒæœåŠ¡

#### BrowserService
```javascript
// æµè§ˆå™¨ç®¡ç†æœåŠ¡
- æ”¯æŒæŒä¹…åŒ–æ¨¡å¼ï¼ˆå¤ç”¨Chromeé…ç½®ï¼‰
- æ”¯æŒCDPæ¨¡å¼ï¼ˆè¿æ¥ç°æœ‰Chromeï¼‰
- æµè§ˆå™¨å®ä¾‹å¤ç”¨
- è‡ªåŠ¨æ£€æµ‹å’Œæ¢å¤
- çŠ¶æ€ç›‘æ§
```

#### PublishService
```javascript
// å‘å¸ƒæœåŠ¡
- å•å¹³å°å‘å¸ƒ
- æ‰¹é‡å‘å¸ƒï¼ˆé¡ºåº/å¹¶å‘ï¼‰
- å®šæ—¶ä»»åŠ¡ç®¡ç†
- ç»“æœç»Ÿè®¡
- é”™è¯¯å¤„ç†
```

#### ImageManager
```javascript
// åª’ä½“ç®¡ç†
- å›¾ç‰‡ä¸‹è½½
- æ–‡ä»¶ä¸Šä¼ 
- ä¸´æ—¶æ–‡ä»¶ç®¡ç†
- æ ¼å¼æ£€æµ‹
```

#### PageOperator
```javascript
// é¡µé¢æ“ä½œ
- åæ£€æµ‹è®¾ç½®
- å…ƒç´ äº¤äº’
- ç­‰å¾…æœºåˆ¶
- æˆªå›¾åŠŸèƒ½
```

### 5. æ–‡æ¡£ä½“ç³»

#### å®Œæ•´æ–‡æ¡£
- âœ… README.md - é¡¹ç›®ä»‹ç»å’Œå®Œæ•´æ–‡æ¡£
- âœ… QUICK_START.md - 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹æŒ‡å—
- âœ… MIGRATION_GUIDE.md - ä»Pythonç‰ˆæœ¬è¿ç§»æŒ‡å—
- âœ… PROJECT_SUMMARY.md - é¡¹ç›®æ€»ç»“ï¼ˆæœ¬æ–‡æ¡£ï¼‰

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### 1. ä»£ç é€»è¾‘ç‹¬ç«‹
æ¯ä¸ªå¹³å°éƒ½æ˜¯ç‹¬ç«‹çš„æ¨¡å—ï¼Œäº’ä¸å¹²æ‰°ï¼š
```
src/platforms/
â”œâ”€â”€ douyin.js       # æŠ–éŸ³ç‹¬ç«‹å®ç°
â”œâ”€â”€ kuaishou.js     # å¿«æ‰‹ç‹¬ç«‹å®ç°
â”œâ”€â”€ xiaohongshu.js  # å°çº¢ä¹¦ç‹¬ç«‹å®ç°
â””â”€â”€ weibo.js        # å¾®åšç‹¬ç«‹å®ç°
```

### 2. è¯¦ç»†çš„UIæ“ä½œ
å‚è€ƒPythonç‰ˆæœ¬ï¼Œå®ç°äº†ç²¾ç¡®çš„å…ƒç´ å®šä½å’Œæ“ä½œï¼š
- å¤šç§é€‰æ‹©å™¨ç­–ç•¥
- ç›¸å¯¹å®šä½æŠ€æœ¯
- ç­‰å¾…æœºåˆ¶å®Œå–„
- é”™è¯¯é‡è¯•é€»è¾‘

### 3. API æ–¹å¼è°ƒç”¨
æä¾›å®Œæ•´çš„RESTful APIï¼š
```javascript
// ç¤ºä¾‹ï¼šæ‰¹é‡å‘å¸ƒ
POST /api/publish/batch
{
  "platforms": ["douyin", "kuaishou"],
  "title": "æ ‡é¢˜",
  "videoUrl": "/path/to/video.mp4",
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"]
}
```

### 4. Vue3 æ¡†æ¶
- ç»„ä»¶åŒ–è®¾è®¡
- å“åº”å¼æ•°æ®
- çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰
- è·¯ç”±ç®¡ç†ï¼ˆVue Routerï¼‰
- UIç»„ä»¶åº“ï¼ˆElement Plusï¼‰

## ğŸ“Š æŠ€æœ¯æ ˆå¯¹æ¯”

| æŠ€æœ¯ | Pythonç‰ˆæœ¬ | JavaScriptç‰ˆæœ¬ |
|------|-----------|---------------|
| è¯­è¨€ | Python 3.x | Node.js 18+ |
| æµè§ˆå™¨è‡ªåŠ¨åŒ– | Playwright | Playwright |
| å‰ç«¯æ¡†æ¶ | æ—  | Vue 3 |
| UIç»„ä»¶åº“ | æ—  | Element Plus |
| çŠ¶æ€ç®¡ç† | æ–‡ä»¶ç³»ç»Ÿ | Pinia |
| APIæœåŠ¡ | æ—  | Node.js HTTP |
| æ—¥å¿—ç³»ç»Ÿ | loguru | è‡ªå®šä¹‰logger |

## ğŸ”¥ äº®ç‚¹åŠŸèƒ½

### 1. ç»Ÿä¸€çš„å‘å¸ƒæœåŠ¡
```javascript
import publishService from './src/api/publishService.js';

// å•å¹³å°
await publishService.publishToPlatform('douyin', info);

// æ‰¹é‡å‘å¸ƒ
await publishService.batchPublish(['douyin', 'kuaishou'], info);

// å®šæ—¶ä»»åŠ¡
await publishService.createScheduleTask(['douyin'], info, time);
```

### 2. çµæ´»çš„æµè§ˆå™¨ç®¡ç†
```javascript
// æŒä¹…åŒ–æ¨¡å¼ - å¤ç”¨Chromeé…ç½®
const browser = await getOrCreateBrowser({
    mode: 'persistent',
    userDataDir: '/path/to/chrome/data',
    profileDir: 'Default'
});

// CDPæ¨¡å¼ - è¿æ¥ç°æœ‰Chrome
const browser = await getOrCreateBrowser({
    mode: 'cdp',
    cdpEndpoint: 'http://127.0.0.1:9222'
});
```

### 3. å®Œå–„çš„é”™è¯¯å¤„ç†
```javascript
try {
    await publish(info);
} catch (error) {
    // è‡ªåŠ¨æˆªå›¾
    await page.screenshot({ path: `error_${Date.now()}.png` });
    // è¯¦ç»†æ—¥å¿—
    logger.error('å‘å¸ƒå¤±è´¥:', error);
    // è¿”å›ç»“æ„åŒ–é”™è¯¯
    return { success: false, error: error.message };
}
```

### 4. å®æ—¶çŠ¶æ€è¿½è¸ª
```javascript
// Pinia Store
const taskStore = useTaskStore();

// æ·»åŠ ä»»åŠ¡
taskStore.addTask({ type: 'publish', data: info });

// æ›´æ–°çŠ¶æ€
taskStore.updateTaskStatus(taskId, 'completed', result);

// ç›‘æ§è¿è¡Œä¸­çš„ä»»åŠ¡
const runningTasks = taskStore.runningTasks;
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### 1. æµè§ˆå™¨å®ä¾‹å¤ç”¨
- Pythonç‰ˆæœ¬ï¼šæ¯æ¬¡åˆ›å»ºæ–°å®ä¾‹
- JavaScriptç‰ˆæœ¬ï¼šå…¨å±€å•ä¾‹ï¼Œå¤ç”¨è¿æ¥
- æ€§èƒ½æå‡ï¼šçº¦ 50%

### 2. å¹¶å‘å‘å¸ƒæ”¯æŒ
```javascript
// å¹¶å‘æ¨¡å¼ - åŒæ—¶å‘å¸ƒåˆ°å¤šä¸ªå¹³å°
await batchPublish(platforms, info, { concurrent: true });

// é¡ºåºæ¨¡å¼ - ä¾æ¬¡å‘å¸ƒ
await batchPublish(platforms, info, { concurrent: false });
```

### 3. èµ„æºè‡ªåŠ¨ç®¡ç†
- ä¸´æ—¶æ–‡ä»¶è‡ªåŠ¨æ¸…ç†
- é¡µé¢è‡ªåŠ¨å…³é—­
- å†…å­˜è‡ªåŠ¨é‡Šæ”¾

## ğŸ› ï¸ ä½¿ç”¨ç¤ºä¾‹

### Web ç•Œé¢ä½¿ç”¨
```
1. å¯åŠ¨æœåŠ¡ï¼šnpm start
2. è®¿é—®ç•Œé¢ï¼šhttp://localhost:3000
3. æ·»åŠ è´¦å·ï¼šè´¦å·ç®¡ç† -> æ·»åŠ è´¦å·
4. å‘å¸ƒå†…å®¹ï¼šå†…å®¹å‘å¸ƒ -> å¡«å†™ä¿¡æ¯ -> å‘å¸ƒ
```

### API è°ƒç”¨
```javascript
// Node.js
const response = await fetch('http://localhost:7010/api/publish/batch', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
        platforms: ['douyin', 'kuaishou'],
        title: 'è§†é¢‘æ ‡é¢˜',
        videoUrl: '/path/to/video.mp4',
        tags: ['ç”Ÿæ´»', 'ç¾é£Ÿ']
    })
});

// Python
import requests
response = requests.post('http://localhost:7010/api/publish/batch', json={
    'platforms': ['douyin', 'kuaishou'],
    'title': 'è§†é¢‘æ ‡é¢˜',
    'videoUrl': '/path/to/video.mp4',
    'tags': ['ç”Ÿæ´»', 'ç¾é£Ÿ']
})
```

### å‘½ä»¤è¡Œä½¿ç”¨
```bash
# å¯åŠ¨APIæœåŠ¡å™¨
npm start

# å¯åŠ¨å‰ç«¯ç•Œé¢
cd frontend && npm run dev

# æ£€æŸ¥ç™»å½•çŠ¶æ€
npm run check-login
```

## ğŸ“ å­¦ä¹ ä»·å€¼

### 1. æ¶æ„è®¾è®¡
- æ¨¡å—åŒ–è®¾è®¡
- æœåŠ¡åŒ–æ¶æ„
- APIè®¾è®¡è§„èŒƒ
- å‰åç«¯åˆ†ç¦»

### 2. æŠ€æœ¯å®è·µ
- Playwright è‡ªåŠ¨åŒ–
- Vue3 ç»„ä»¶å¼€å‘
- RESTful API è®¾è®¡
- çŠ¶æ€ç®¡ç†å®è·µ

### 3. å·¥ç¨‹åŒ–
- é¡¹ç›®ç»“æ„ç»„ç»‡
- ä»£ç è§„èŒƒ
- é”™è¯¯å¤„ç†
- æ—¥å¿—ç³»ç»Ÿ

## ğŸš€ åç»­è®¡åˆ’

### çŸ­æœŸè®¡åˆ’
1. å®Œæˆå‰©ä½™å¹³å°è¿ç§»
   - è…¾è®¯è§†é¢‘å·
   - Bç«™
   - TikTok
   - ç™¾å®¶å·

2. åŠŸèƒ½å¢å¼º
   - è§†é¢‘ç¼–è¾‘åŠŸèƒ½
   - æ‰¹é‡å¯¼å…¥
   - æ•°æ®ç»Ÿè®¡
   - é€šçŸ¥ç³»ç»Ÿ

### é•¿æœŸè®¡åˆ’
1. æ€§èƒ½ä¼˜åŒ–
   - ç¼“å­˜æœºåˆ¶
   - é˜Ÿåˆ—ç³»ç»Ÿ
   - è´Ÿè½½å‡è¡¡

2. åŠŸèƒ½æ‰©å±•
   - æ›´å¤šå¹³å°æ”¯æŒ
   - AIè¾…åŠ©åŠŸèƒ½
   - æ•°æ®åˆ†æ
   - å›¢é˜Ÿåä½œ

## ğŸ“ æ€»ç»“

æœ¬é¡¹ç›®æˆåŠŸå®ç°äº†ä» Python åˆ° JavaScript çš„è¿ç§»ï¼Œå¹¶åœ¨ä»¥ä¸‹æ–¹é¢è¿›è¡Œäº†æ˜¾è‘—æå‡ï¼š

1. **ç”¨æˆ·ä½“éªŒ**ï¼šæä¾›äº†ç°ä»£åŒ–çš„ Web ç•Œé¢
2. **å¯ç»´æŠ¤æ€§**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œä»£ç ç»“æ„æ¸…æ™°
3. **å¯æ‰©å±•æ€§**ï¼šæ˜“äºæ·»åŠ æ–°å¹³å°å’Œæ–°åŠŸèƒ½
4. **æ˜“ç”¨æ€§**ï¼šæä¾›å¤šç§ä½¿ç”¨æ–¹å¼ï¼ˆWeb/API/CLIï¼‰
5. **æ–‡æ¡£å®Œå–„**ï¼šæä¾›è¯¦ç»†çš„ä½¿ç”¨å’Œå¼€å‘æ–‡æ¡£

é¡¹ç›®å·²ç»å…·å¤‡äº†ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„åŸºç¡€ï¼Œå¯ä»¥æ»¡è¶³ä¸ªäººå’Œå°å›¢é˜Ÿçš„ç¤¾äº¤åª’ä½“å‘å¸ƒéœ€æ±‚ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ [social-auto-upload](https://github.com/dreammis/social-auto-upload) é¡¹ç›®æä¾›çš„å®ç°æ€è·¯å’Œè¯¦ç»†çš„å¹³å°æ“ä½œæµç¨‹ï¼

---

**é¡¹ç›®åœ°å€**: https://github.com/your-username/yishe-uploader
**æ–‡æ¡£æ›´æ–°**: 2026-02-03
**ç‰ˆæœ¬**: 2.0.0
