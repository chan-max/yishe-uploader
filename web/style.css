/***** Base *****/
:root {
    --accent: #0a84ff; /* macOS blue */
    --bg: #f5f6f8;
    --card: #ffffff;
    --text: #1c1c1e;
    --text-muted: #6e6e73;
    --border: #e6e6eb;
    --border-soft: #eff0f3;
    --shadow-soft: 0 6px 20px rgba(0,0,0,0.06);
}

html, body { font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }

/***** Layout *****/
.app-root { display:flex; min-height:100vh; background:var(--bg); color:var(--text); }
.sidebar { width:248px; background:#f9f9fb; color:var(--text); display:flex; flex-direction:column; border-right:1px solid var(--border); }
.brand { font-weight:700; font-size:17px; padding:18px 18px; }
.menu { display:flex; flex-direction:column; padding:8px; gap:6px; }
.menu-item { text-align:left; padding:10px 12px; border-radius:10px; color:var(--text); background:transparent; border:0; cursor:pointer; transition: background .2s ease, color .2s ease; }
.menu-item:hover { background:#ececf1; }
.menu-item.active { background:#e6f0ff; color:#0a5bd8; box-shadow: inset 0 0 0 1px #cfe2ff; }
.sidebar-footer { margin-top:auto; padding:12px; border-top:1px solid var(--border); }
.sidebar .env { display:flex; flex-direction:column; gap:6px; font-size:12px; color:var(--text-muted); }
.sidebar select { padding:8px 10px; border-radius:10px; border:1px solid var(--border); background:#fff; color:var(--text); appearance:none; }

.main { flex:1; display:flex; flex-direction:column; }
.topbar { display:flex; align-items:center; justify-content:space-between; padding:14px 20px; background:rgba(255,255,255,0.72); border-bottom:1px solid var(--border-soft); backdrop-filter: saturate(180%) blur(16px); position:sticky; top:0; z-index:10; }
.topbar .title h1 { margin:0; font-size:18px; font-weight:700; color:var(--text); letter-spacing: -.02em; }
.topbar .title p { margin:4px 0 0; color:var(--text-muted); font-size:12px; }
.topbar .actions .btn { padding:8px 12px; border-radius:10px; border:1px solid #d5e6ff; background:var(--accent); color:#fff; cursor:pointer; box-shadow:0 1px 0 rgba(0,0,0,0.03); transition: filter .15s ease, box-shadow .2s ease; }
.topbar .actions .btn:hover { filter: brightness(0.96); }
.topbar .actions .btn:active { filter: brightness(0.92); }
.topbar .actions .btn:focus { outline: none; box-shadow: 0 0 0 3px rgba(10,132,255,0.25); }

.content { padding:20px; }
.cards { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:16px; }
.card { background:var(--card); border-radius:14px; padding:16px; box-shadow:var(--shadow-soft); border:1px solid var(--border-soft); }
.card-title { color:var(--text-muted); font-size:12px; }
.card-value { font-size:26px; font-weight:700; margin:8px 0; letter-spacing:-.02em; }
.card-desc { color:#9fa1a6; font-size:12px; }

/***** Status *****/
.status-panel { margin-bottom:12px; padding:10px 12px; border-radius:12px; font-size:13px; border:1px solid var(--border); background:#fff; box-shadow:0 1px 0 rgba(0,0,0,0.02); }
.status-panel.success { border-color:#ccebd6; background:#f4fbf6; color:#0a7a2f; }
.status-panel.error { border-color:#ffd0d0; background:#fff4f4; color:#b3261e; }
.status-panel.empty { background:#fafafa; color:#6b7280; }

/***** Table *****/
.table { background:#fff; border-radius:14px; box-shadow:var(--shadow-soft); overflow:hidden; border:1px solid var(--border-soft); }
.thead { background:#fafbfe; border-bottom:1px solid var(--border); }
.tr { display:grid; grid-template-columns: 2fr 2fr 1.6fr 3fr 2fr 1.2fr 1.2fr; gap:0; align-items:stretch; }
.th, .td { padding:14px 16px; border-bottom:1px solid var(--border-soft); font-size:13px; color:var(--text); display:flex; flex-direction:column; justify-content:center; }
.th { font-weight:600; color:#3a3a3c; }
.td-id { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; font-size:12px; color:#6b7280; word-break:break-word; }
.td-name { font-weight:600; color:#1f1f1f; letter-spacing:-.01em; }
.td-images { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.td-images img { width:52px; height:52px; object-fit:cover; border-radius:10px; border:1px solid var(--border); box-shadow:0 1px 0 rgba(0,0,0,0.02); }
.td-images .more { font-size:12px; color:#6b7280; }
.td-desc { color:#4b5563; font-size:12.5px; line-height:1.55; max-height:78px; overflow:hidden; }
.td-keywords { color:#0a84ff; font-size:12.5px; }
.td-status { color:#3a3a3c; font-size:12.5px; }
.td-actions { justify-content:center; align-items:flex-end; }
.tbody .tr:hover { background:#f7f8fb; }

.publish-btn { padding:8px 14px; background:var(--accent); color:#fff; border: 1px solid #d5e6ff; border-radius:10px; cursor:pointer; font-size:13px; transition: filter .15s ease, box-shadow .2s ease; align-self:flex-end; box-shadow:0 1px 0 rgba(0,0,0,0.03); }
.publish-btn:hover { filter: brightness(0.96); }
.publish-btn:active { filter: brightness(0.92); }
.publish-btn:focus { outline:none; box-shadow: 0 0 0 3px rgba(10,132,255,0.25); }
.publish-btn.success { background:#34c759; border-color:#c6f5d7; }

/***** Login badges *****/
.login-status { display:flex; flex-wrap:wrap; gap:8px; }
.login-badge { padding:6px 10px; border-radius:999px; font-size:12px; border:1px solid var(--border); background:#fff; display:inline-flex; align-items:center; gap:6px; box-shadow:0 1px 0 rgba(0,0,0,0.02); }
.login-badge.ok { background:#f3fff6; border-color:#d9f6e3; color:#1e7d32; }
.login-badge.err { background:#fff7f7; border-color:#ffe0e0; color:#b3261e; }
.login-badge.warn { background:#fffaf0; border-color:#ffe7bf; color:#b7791f; }

/***** Responsive *****/
@media (max-width: 1100px) {
    .tr { grid-template-columns: 2fr 2fr 1.6fr 0fr 0fr 1.2fr 1.2fr; }
    .th.th-desc, .td.td-desc, .th.th-keywords, .td.td-keywords { display:none; }
}
@media (max-width: 860px) {
    .sidebar { width:208px; }
}
@media (max-width: 720px) {
    .app-root { flex-direction:column; }
    .sidebar { width:100%; flex-direction:row; align-items:center; }
    .menu { flex-direction:row; overflow:auto; }
    .main { min-height: calc(100vh - 120px); }
}